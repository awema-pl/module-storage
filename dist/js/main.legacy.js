/**
 * Bundle of AWEMA storage transpiled and polyfilled
 * Generated: 2021-01-08 07:21:39
 * Version: 1.0.0
 */

!function(){"use strict";var t=function(t){return"object"==typeof t?null!==t:"function"==typeof t},n=function(n){if(!t(n))throw TypeError(n+" is not an object!");return n},e=function(t){try{return!!t()}catch(t){return!0}},r=!e(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});function o(t,n){return t(n={exports:{}},n.exports),n.exports}var i=o(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),a=i.document,c=t(a)&&t(a.createElement),s=function(t){return c?a.createElement(t):{}},u=!r&&!e(function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}),f=Object.defineProperty,l={f:r?Object.defineProperty:function(e,r,o){if(n(e),r=function(n,e){if(!t(n))return n;var r,o;if(e&&"function"==typeof(r=n.toString)&&!t(o=r.call(n)))return o;if("function"==typeof(r=n.valueOf)&&!t(o=r.call(n)))return o;if(!e&&"function"==typeof(r=n.toString)&&!t(o=r.call(n)))return o;throw TypeError("Can't convert object to primitive value")}(r,!0),n(o),u)try{return f(e,r,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(e[r]=o.value),e}},d=l.f,h=Function.prototype,v=/^\s*function ([^ (]*)/;"name"in h||r&&d(h,"name",{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(t){return""}}});var p=o(function(t){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)}),_=(p.version,r?function(t,n,e){return l.f(t,n,function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}(1,e))}:function(t,n,e){return t[n]=e,t}),m={}.hasOwnProperty,g=function(t,n){return m.call(t,n)},y=0,b=Math.random(),w=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++y+b).toString(36))},j=o(function(t){var n=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:p.version,mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),E=j("native-function-to-string",Function.toString),S=o(function(t){var n=w("src"),e=(""+E).split("toString");p.inspectSource=function(t){return E.call(t)},(t.exports=function(t,r,o,a){var c="function"==typeof o;c&&(g(o,"name")||_(o,"name",r)),t[r]!==o&&(c&&(g(o,n)||_(o,n,t[r]?""+t[r]:e.join(String(r)))),t===i?t[r]=o:a?t[r]?t[r]=o:_(t,r,o):(delete t[r],_(t,r,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||E.call(this)})}),x=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},O=function(t,n,e){if(x(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},P=function(t,n,e){var r,o,a,c,s=t&P.F,u=t&P.G,f=t&P.S,l=t&P.P,d=t&P.B,h=u?i:f?i[n]||(i[n]={}):(i[n]||{}).prototype,v=u?p:p[n]||(p[n]={}),m=v.prototype||(v.prototype={});for(r in u&&(e=n),e)a=((o=!s&&h&&void 0!==h[r])?h:e)[r],c=d&&o?O(a,i):l&&"function"==typeof a?O(Function.call,a):a,h&&S(h,r,a,t&P.U),v[r]!=a&&_(v,r,c),l&&m[r]!=a&&(m[r]=a)};i.core=p,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;var T,M,A=P,F={}.toString,L=function(t){return F.call(t).slice(8,-1)},C=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==L(t)?t.split(""):Object(t)},R=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},k=function(t){return C(R(t))},$=Math.ceil,D=Math.floor,I=function(t){return isNaN(t=+t)?0:(t>0?D:$)(t)},N=Math.min,W=function(t){return t>0?N(I(t),9007199254740991):0},G=Math.max,U=Math.min,V=j("keys"),X=(T=!1,function(t,n,e){var r,o=k(t),i=W(o.length),a=function(t,n){return(t=I(t))<0?G(t+n,0):U(t,n)}(e,i);if(T&&n!=n){for(;i>a;)if((r=o[a++])!=r)return!0}else for(;i>a;a++)if((T||a in o)&&o[a]===n)return T||a||0;return!T&&-1}),z=V[M="IE_PROTO"]||(V[M]=w(M)),B="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),K=Object.keys||function(t){return function(t,n){var e,r=k(t),o=0,i=[];for(e in r)e!=z&&g(r,e)&&i.push(e);for(;n.length>o;)g(r,e=n[o++])&&(~X(i,e)||i.push(e));return i}(t,B)},q={f:Object.getOwnPropertySymbols},H={f:{}.propertyIsEnumerable},J=Object.assign,Q=!J||e(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=J({},t)[e]||Object.keys(J({},n)).join("")!=r})?function(t,n){for(var e=Object(R(t)),o=arguments.length,i=1,a=q.f,c=H.f;o>i;)for(var s,u=C(arguments[i++]),f=a?K(u).concat(a(u)):K(u),l=f.length,d=0;l>d;)s=f[d++],r&&!c.call(u,s)||(e[s]=u[s]);return e}:J;function Y(t){if(!0===AWEMA_CONFIG.dev){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];console.debug(t,e)}}A(A.S+A.F,"Object",{assign:Q});var Z={example_data:"example-data-from-config"},tt={props:{example_data:{type:String,default:function(){return this._config.example_data}}},inject:{},computed:{exampleFromFunction:function(){return"example-function"}},beforeCreate:function(){this._config=Object.assign(Z,AWEMA.utils.object.get(AWEMA_CONFIG,"storage",{}))}},nt=0;var et=function(t,n,e,r,o,i,a,c,s,u){"boolean"!=typeof a&&(s=c,c=a,a=!1);var f,l="function"==typeof e?e.options:e;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),r&&(l._scopeId=r),i?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,s(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=f):n&&(f=a?function(){n.call(this,u(this.$root.$options.shadowRoot))}:function(t){n.call(this,c(t))}),f)if(l.functional){var d=l.render;l.render=function(t,n){return f.call(n),d(t,n)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,f):[f]}return e}({render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("p",[t._v("Translation key "),e("code",[t._v("STORAGE_EXAMPLE")]),t._v(" from "),e("code",[t._v("storage/resources/lang/**/js.php")]),t._v(": "+t._s(t.$lang.STORAGE_EXAMPLE))]),t._v(" "),e("button",{staticClass:"form-builder__send btn",on:{click:t.testDebug}},[t._v("Test console log for debug")]),t._v(" "),e("p",[t._v("From config JS file: "+t._s(this.example_data))]),t._v(" "),e("p",[t._v("Example function: "+t._s(this.exampleFromFunction))]),t._v(" "),e("p",[e("button",{staticClass:"form-builder__send btn",on:{click:t.testLoading}},[t._v("Test loading")]),t._v(" "),t.isLoading?e("span",[t._v("is loading...")]):t._e()])])},staticRenderFns:[]},void 0,{name:"storage",mixins:[tt],props:{name:{type:String,default:function(){return"storage-".concat(nt++)}},default:Object,storeData:String},computed:{storage:function(){return this.$store.state.storage[this.name]},isLoading:function(){return this.storage&&this.storage.isLoading}},created:function(){var t=this.storeData?this.$store.state[this.storeData]:this.default||{};this.$store.commit("storage/create",{name:this.name,data:t})},mounted:function(){},methods:{testDebug:function(){Y("message",["data1"],["data2"])},testLoading:function(){var t=this;this.isLoading||(AWEMA.emit("storage::".concat(this.name,":before-test-loading")),this.$store.dispatch("storage/testLoading",{name:this.name}).then(function(n){Y("data",n),t.$emit("success",n.data),t.$store.$set(t.name,t.$get(n,"data",{}))}))}},beforeDestroy:function(){}},void 0,!1,void 0,void 0,void 0);var rt={installed:!1,install:function(t){this.installed||(this.installed=!0/t.component("storage",et))}},ot={STORAGE_EXAMPLE:"storage example"},it=o(function(t){var n=j("wks"),e=i.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:w)("Symbol."+t))}).store=n}),at=it("species"),ct=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[at])?e:x(r)};function st(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=x(n),this.reject=x(e)}var ut={f:function(t){return new st(t)}},ft=function(e,r){if(n(e),t(r)&&r.constructor===e)return r;var o=ut.f(e);return(0,o.resolve)(r),o.promise};A(A.P+A.R,"Promise",{finally:function(t){var n=ct(this,p.Promise||i.Promise),e="function"==typeof t;return this.then(e?function(e){return ft(n,t()).then(function(){return e})}:t,e?function(e){return ft(n,t()).then(function(){throw e})}:t)}});var lt,dt,ht,vt=it("toStringTag"),pt="Arguments"==L(function(){return arguments}()),_t=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),vt))?e:pt?L(n):"Object"==(r=L(n))&&"function"==typeof n.callee?"Arguments":r},mt=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}},gt={},yt=it("iterator"),bt=Array.prototype,wt=function(t){return void 0!==t&&(gt.Array===t||bt[yt]===t)},jt=it("iterator"),Et=p.getIteratorMethod=function(t){if(null!=t)return t[jt]||t["@@iterator"]||gt[_t(t)]},St=o(function(t){var e={},r={},o=t.exports=function(t,o,i,a,c){var s,u,f,l,d=c?function(){return t}:Et(t),h=O(i,a,o?2:1),v=0;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(wt(d)){for(s=W(t.length);s>v;v++)if((l=o?h(n(u=t[v])[0],u[1]):h(t[v]))===e||l===r)return l}else for(f=d.call(t);!(u=f.next()).done;)if((l=mt(f,h,u.value,o))===e||l===r)return l};o.BREAK=e,o.RETURN=r}),xt=i.document,Ot=xt&&xt.documentElement,Pt=i.process,Tt=i.setImmediate,Mt=i.clearImmediate,At=i.MessageChannel,Ft=i.Dispatch,Lt=0,Ct={},Rt=function(){var t=+this;if(Ct.hasOwnProperty(t)){var n=Ct[t];delete Ct[t],n()}},kt=function(t){Rt.call(t.data)};Tt&&Mt||(Tt=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return Ct[++Lt]=function(){!function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}t.apply(e,n)}("function"==typeof t?t:Function(t),n)},lt(Lt),Lt},Mt=function(t){delete Ct[t]},"process"==L(Pt)?lt=function(t){Pt.nextTick(O(Rt,t,1))}:Ft&&Ft.now?lt=function(t){Ft.now(O(Rt,t,1))}:At?(ht=(dt=new At).port2,dt.port1.onmessage=kt,lt=O(ht.postMessage,ht,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts?(lt=function(t){i.postMessage(t+"","*")},i.addEventListener("message",kt,!1)):lt="onreadystatechange"in s("script")?function(t){Ot.appendChild(s("script")).onreadystatechange=function(){Ot.removeChild(this),Rt.call(t)}}:function(t){setTimeout(O(Rt,t,1),0)});var $t={set:Tt,clear:Mt},Dt=$t.set,It=i.MutationObserver||i.WebKitMutationObserver,Nt=i.process,Wt=i.Promise,Gt="process"==L(Nt),Ut=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Vt=i.navigator,Xt=Vt&&Vt.userAgent||"",zt=l.f,Bt=it("toStringTag"),Kt=it("species"),qt=it("iterator"),Ht=!1;try{[7][qt]().return=function(){Ht=!0}}catch(t){}var Jt,Qt,Yt,Zt,tn,nn,en,rn,on=$t.set,an=function(){var t,n,e,r=function(){var r,o;for(Gt&&(r=Nt.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Gt)e=function(){Nt.nextTick(r)};else if(!It||i.navigator&&i.navigator.standalone)if(Wt&&Wt.resolve){var o=Wt.resolve(void 0);e=function(){o.then(r)}}else e=function(){Dt.call(i,r)};else{var a=!0,c=document.createTextNode("");new It(r).observe(c,{characterData:!0}),e=function(){c.data=a=!a}}return function(r){var o={fn:r,next:void 0};n&&(n.next=o),t||(t=o,e()),n=o}}(),cn=i.TypeError,sn=i.process,un=sn&&sn.versions,fn=un&&un.v8||"",ln=i.Promise,dn="process"==_t(sn),hn=function(){},vn=Qt=ut.f,pn=!!function(){try{var t=ln.resolve(1),n=(t.constructor={})[it("species")]=function(t){t(hn,hn)};return(dn||"function"==typeof PromiseRejectionEvent)&&t.then(hn)instanceof n&&0!==fn.indexOf("6.6")&&-1===Xt.indexOf("Chrome/66")}catch(t){}}(),_n=function(n){var e;return!(!t(n)||"function"!=typeof(e=n.then))&&e},mn=function(t,n){if(!t._n){t._n=!0;var e=t._c;an(function(){for(var r=t._v,o=1==t._s,i=0,a=function(n){var e,i,a,c=o?n.ok:n.fail,s=n.resolve,u=n.reject,f=n.domain;try{c?(o||(2==t._h&&bn(t),t._h=1),!0===c?e=r:(f&&f.enter(),e=c(r),f&&(f.exit(),a=!0)),e===n.promise?u(cn("Promise-chain cycle")):(i=_n(e))?i.call(e,s,u):s(e)):u(r)}catch(t){f&&!a&&f.exit(),u(t)}};e.length>i;)a(e[i++]);t._c=[],t._n=!1,n&&!t._h&&gn(t)})}},gn=function(t){on.call(i,function(){var n,e,r,o=t._v,a=yn(t);if(a&&(n=Ut(function(){dn?sn.emit("unhandledRejection",o,t):(e=i.onunhandledrejection)?e({promise:t,reason:o}):(r=i.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=dn||yn(t)?2:1),t._a=void 0,a&&n.e)throw n.v})},yn=function(t){return 1!==t._h&&0===(t._a||t._c).length},bn=function(t){on.call(i,function(){var n;dn?sn.emit("rejectionHandled",t):(n=i.onrejectionhandled)&&n({promise:t,reason:t._v})})},wn=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),mn(n,!0))},jn=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw cn("Promise can't be resolved itself");(n=_n(t))?an(function(){var r={_w:e,_d:!1};try{n.call(t,O(jn,r,1),O(wn,r,1))}catch(t){wn.call(r,t)}}):(e._v=t,e._s=1,mn(e,!1))}catch(t){wn.call({_w:e,_d:!1},t)}}};pn||(ln=function(t){!function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!")}(this,ln,"Promise","_h"),x(t),Jt.call(this);try{t(O(jn,this,1),O(wn,this,1))}catch(t){wn.call(this,t)}},(Jt=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,n,e){for(var r in n)S(t,r,n[r],e);return t}(ln.prototype,{then:function(t,n){var e=vn(ct(this,ln));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=dn?sn.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&mn(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),Yt=function(){var t=new Jt;this.promise=t,this.resolve=O(jn,t,1),this.reject=O(wn,t,1)},ut.f=vn=function(t){return t===ln||t===Zt?new Yt(t):Qt(t)}),A(A.G+A.W+A.F*!pn,{Promise:ln}),nn="Promise",(tn=ln)&&!g(tn=en?tn:tn.prototype,Bt)&&zt(tn,Bt,{configurable:!0,value:nn}),rn=i["Promise"],r&&rn&&!rn[Kt]&&l.f(rn,Kt,{configurable:!0,get:function(){return this}}),Zt=p.Promise,A(A.S+A.F*!pn,"Promise",{reject:function(t){var n=vn(this);return(0,n.reject)(t),n.promise}}),A(A.S+A.F*!pn,"Promise",{resolve:function(t){return ft(this,t)}}),A(A.S+A.F*!(pn&&function(t,n){if(!n&&!Ht)return!1;var e=!1;try{var r=[7],o=r[qt]();o.next=function(){return{done:e=!0}},r[qt]=function(){return o},t(r)}catch(t){}return e}(function(t){ln.all(t).catch(hn)})),"Promise",{all:function(t){var n=this,e=vn(n),r=e.resolve,o=e.reject,i=Ut(function(){var e=[],i=0,a=1;St(t,!1,function(t){var c=i++,s=!1;e.push(void 0),a++,n.resolve(t).then(function(t){s||(s=!0,e[c]=t,--a||r(e))},o)}),--a||r(e)});return i.e&&o(i.v),e.promise},race:function(t){var n=this,e=vn(n),r=e.reject,o=Ut(function(){St(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return o.e&&r(o.v),e.promise}});var En={};En[it("toStringTag")]="z",En+""!="[object z]"&&S(Object.prototype,"toString",function(){return"[object "+_t(this)+"]"},!0);var Sn={state:function(){return{}},getters:{storage:function(t){return function(n){return t[n]}},isLoading:function(t,n){return function(t){var e=n.storage(t);return e&&e.isLoading}}},mutations:{create:function(t,n){var e=n.name,r=n.data;Vue.set(t,e,{isLoading:!1,data:r})},setLoading:function(t,n){var e=n.name,r=n.status;Vue.set(t[e],"isLoading",r)}},actions:{restoreData:function(t,n){return t.state[n.name].exampleData||"example-data"},testLoading:function(t,n){var e=t.state,r=t.commit,o=t.dispatch,i=n.name;return new Promise(function(t){var n;e[i];r("setLoading",{name:i,status:!0}),o("restoreData",{name:i}).then(function(t){return Y("data",t),["data-2"]}).then(function(t){n=t,Y("data-2",t)}).finally(function(){setTimeout(function(){r("setLoading",{name:i,status:!1}),t(n)},2e3)})})}},namespaced:!0},xn={name:"storage",version:"1.0.0",install:function(t){Vue.use(rt),t._store.registerModule("storage",Sn),t.lang=ot}};window&&"AWEMA"in window?AWEMA.use(xn):(window.__awema_plugins_stack__=window.__awema_plugins_stack__||[],window.__awema_plugins_stack__.push(xn))}();
